<HTML>
<HEAD>
<TITLE>class ScriptRun</TITLE>

<META NAME="Generator" CONTENT="KDOC ">
</HEAD>
<BODY bgcolor="#ffffff" text="#000000" link="#0000ff" vlink="#000099" alink= "#ffffff">
<TABLE WIDTH="100%" BORDER="0">
<TR>
<TD>
	<TABLE BORDER="0">
		<TR><TD valign="top" align="left" cellspacing="10">
		<h1>class ScriptRun</h1>
		</TD>
		<TD valign="top" align="right" colspan="1">Script runtime execution. <small><A HREF="#longdesc">More...</A></small></TD></TR>
	</TABLE>
	<HR>
	<TABLE BORDER="0">
		<TR><TH>Full name</TH><TD><code><A HREF="TelEngine.html">TelEngine</A>::ScriptRun</code></TD></TR>
<TR><TH>Definition</TH><TD><code>#include &lt;<A HREF="libs___yscript___yatescript_h.html">libs/yscript/yatescript.h</A>&gt;</code></TD></TR>
<TR><TH>Inherits</TH><TD><A HREF="TelEngine__GenObject.html">TelEngine::GenObject</A> <small>[public ]</small>, <A HREF="TelEngine__Mutex.html">TelEngine::Mutex</A> <small>[public ]</small></TD></TR>
<TR><TH><A HREF="full-list-TelEngine__ScriptRun.html">List of all Methods</A></TH></TR>
	</TABLE>
	</TD>
<TD align="right"><TABLE BORDER="0"><TR><TD><small><A HREF="index-long.html">Annotated List</A></small></TD></TR>
<TR><TD><small><A HREF="header-list.html">Files</A></small></TD></TR>
<TR><TD><small><A HREF="all-globals.html">Globals</A></small></TD></TR>
<TR><TD><small><A HREF="hier.html">Hierarchy</A></small></TD></TR>
<TR><TD><small><A HREF="index.html">Index</A></small></TD></TR>
</TABLE></TD></TR></TABLE>
<h4>Public Types</h4><ul><LI>enum <A HREF="#ref3">Status</A> {	Invalid,
	Running,
	Incomplete,
	Succeeded,
	Failed,
    }
</LI>
</ul><h4>Public Methods</h4><ul><LI>&nbsp;<b><A HREF="#ref4">ScriptRun</A></b> (ScriptCode* code, ScriptContext* context = 0) 
</LI>
<LI>virtual  &nbsp;<b><A HREF="#ref5">~ScriptRun</A></b> () 
</LI>
<LI>inline ScriptCode* &nbsp;<b><A HREF="#ref6">code</A></b> ()  const
</LI>
<LI>inline ScriptContext* &nbsp;<b><A HREF="#ref7">context</A></b> ()  const
</LI>
<LI>inline Status &nbsp;<b><A HREF="#ref8">state</A></b> ()  const
</LI>
<LI>inline const char* &nbsp;<b><A HREF="#ref10">textState</A></b> ()  const
</LI>
<LI>inline ObjList& &nbsp;<b><A HREF="#ref11">stack</A></b> () 
</LI>
<LI>inline const ObjList& &nbsp;<b><A HREF="#ref12">stack</A></b> ()  const
</LI>
<LI>inline ScriptRun* &nbsp;<b><A HREF="#ref13">clone</A></b> ()  const
</LI>
<LI>virtual  Status &nbsp;<b><A HREF="#ref14">reset</A></b> (bool init = false) 
</LI>
<LI>virtual  Status &nbsp;<b><A HREF="#ref15">execute</A></b> () 
</LI>
<LI>virtual  Status &nbsp;<b><A HREF="#ref16">run</A></b> (bool init = true) 
</LI>
<LI>virtual  bool &nbsp;<b><A HREF="#ref17">pause</A></b> () 
</LI>
<LI>virtual  Status &nbsp;<b><A HREF="#ref18">call</A></b> (const String& name, ObjList& args,
	ExpOperation* thisObj = 0, ExpOperation* scopeObj = 0) 
</LI>
<LI>virtual  bool &nbsp;<b><A HREF="#ref19">callable</A></b> (const String& name) 
</LI>
<LI>virtual  bool &nbsp;<b><A HREF="#ref20">insertAsync</A></b> (ScriptAsync* oper) 
</LI>
<LI>virtual  bool &nbsp;<b><A HREF="#ref21">appendAsync</A></b> (ScriptAsync* oper) 
</LI>
<LI>bool &nbsp;<b><A HREF="#ref22">runAssign</A></b> (const ExpOperation& oper, GenObject* context = 0) 
</LI>
</ul><h4>Public Static Methods</h4><ul><LI>static  const char* &nbsp;<b><A HREF="#ref9">textState</A></b> (Status state) 
</LI>
</ul><h4>Protected Methods</h4><ul><LI>virtual  Status &nbsp;<b><A HREF="#ref23">resume</A></b> () 
</LI>
</ul><HR><H2><A NAME="longdesc">Detailed Description</A></H2><p>
 An instance of script code and data, status machine run by a single thread at a time
</p>
<A NAME="Status"></A><A NAME="ref3"></A><table width="100%"><tr bgcolor="#eeeeee"><td>enum <strong>Status</strong> {	Invalid,
	Running,
	Incomplete,
	Succeeded,
	Failed,
    }
</td><td align="right"><h3><strong>Status</strong></h3></td></tr></table><p></p><p>
 Runtime states
     </p>
<A NAME="ScriptRun"></A><A NAME="ref4"></A><table width="100%"><tr bgcolor="#eeeeee"><td>&nbsp;<strong>ScriptRun</strong> (ScriptCode* code, ScriptContext* context = 0)
<br></td><td align="right"><h3><strong>ScriptRun</strong></h3></td></tr></table><p></p><p>
 Constructor
</p>
<p><b>Parameters</b>:<TABLE BORDER="0" CELLPADDING="5">
<TR><TD align="left" valign="top"><i>code</i></TD><TD align="left" valign="top">Code fragment to execute
</TD></TR>
<TR><TD align="left" valign="top"><i>context</i></TD><TD align="left" valign="top">Script context, an empty one will be allocated if NULL
     </TD></TR>
</TABLE></P>
<A NAME="~ScriptRun"></A><A NAME="ref5"></A><table width="100%"><tr bgcolor="#eeeeee"><td> &nbsp;<strong>~ScriptRun</strong> ()
<br></td><td align="right"><h3><strong>~ScriptRun</strong></h3></td></tr></table><p> <small>[virtual]</small></p><p>
 Destructor, disposes the code and context
     </p>
<A NAME="code"></A><A NAME="ref6"></A><table width="100%"><tr bgcolor="#eeeeee"><td>inline ScriptCode* &nbsp;<strong>code</strong> ()
<br></td><td align="right"><h3><strong>code</strong></h3></td></tr></table><p> <small>[const]</small></p><p>
 Retrieve the parsed code being executed
</p>
<p><b>Returns</b>: Pointer to ScriptCode object
     </p>
<A NAME="context"></A><A NAME="ref7"></A><table width="100%"><tr bgcolor="#eeeeee"><td>inline ScriptContext* &nbsp;<strong>context</strong> ()
<br></td><td align="right"><h3><strong>context</strong></h3></td></tr></table><p> <small>[const]</small></p><p>
 Retrieve the execution context associated with the runtime
</p>
<p><b>Returns</b>: Pointer to ScriptContext object
     </p>
<A NAME="state"></A><A NAME="ref8"></A><table width="100%"><tr bgcolor="#eeeeee"><td>inline Status &nbsp;<strong>state</strong> ()
<br></td><td align="right"><h3><strong>state</strong></h3></td></tr></table><p> <small>[const]</small></p><p>
 Current state of the runtime
     </p>
<A NAME="textState"></A><A NAME="ref9"></A><table width="100%"><tr bgcolor="#eeeeee"><td> const char* &nbsp;<strong>textState</strong> (Status state)
<br></td><td align="right"><h3><strong>textState</strong></h3></td></tr></table><p> <small>[static]</small></p><p>
 Get the text description of a runtime state
</p>
<p><b>Parameters</b>:<TABLE BORDER="0" CELLPADDING="5">
<TR><TD align="left" valign="top"><i>state</i></TD><TD align="left" valign="top">State to describe
</TD></TR>
</TABLE></P>
<p><b>Returns</b>: Description of the runtime state
     </p>
<A NAME="textState"></A><A NAME="ref10"></A><table width="100%"><tr bgcolor="#eeeeee"><td>inline const char* &nbsp;<strong>textState</strong> ()
<br></td><td align="right"><h3><strong>textState</strong></h3></td></tr></table><p> <small>[const]</small></p><p>
 Get the text description of the current runtime state
</p>
<p><b>Returns</b>: Description of the runtime state
     </p>
<A NAME="stack"></A><A NAME="ref11"></A><table width="100%"><tr bgcolor="#eeeeee"><td>inline ObjList& &nbsp;<strong>stack</strong> ()
<br></td><td align="right"><h3><strong>stack</strong></h3></td></tr></table><p></p><p>
 Access the runtime execution stack
</p>
<p><b>Returns</b>: The internal execution stack
     </p>
<A NAME="stack"></A><A NAME="ref12"></A><table width="100%"><tr bgcolor="#eeeeee"><td>inline const ObjList& &nbsp;<strong>stack</strong> ()
<br></td><td align="right"><h3><strong>stack</strong></h3></td></tr></table><p> <small>[const]</small></p><p>
 Const access the runtime execution stack
</p>
<p><b>Returns</b>: The internal execution stack
     </p>
<A NAME="clone"></A><A NAME="ref13"></A><table width="100%"><tr bgcolor="#eeeeee"><td>inline ScriptRun* &nbsp;<strong>clone</strong> ()
<br></td><td align="right"><h3><strong>clone</strong></h3></td></tr></table><p> <small>[const]</small></p><p>
 Create a duplicate of the runtime with its own stack and state
</p>
<p><b>Returns</b>: New clone of the runtime
     </p>
<A NAME="reset"></A><A NAME="ref14"></A><table width="100%"><tr bgcolor="#eeeeee"><td> Status &nbsp;<strong>reset</strong> (bool init = false)
<br></td><td align="right"><h3><strong>reset</strong></h3></td></tr></table><p> <small>[virtual]</small></p><p>
 Resets code execution to the beginning, does not clear context
</p>
<p><b>Parameters</b>:<TABLE BORDER="0" CELLPADDING="5">
<TR><TD align="left" valign="top"><i>init</i></TD><TD align="left" valign="top">Initialize context
</TD></TR>
</TABLE></P>
<p><b>Returns</b>: Status of the runtime after reset
     </p>
<A NAME="execute"></A><A NAME="ref15"></A><table width="100%"><tr bgcolor="#eeeeee"><td> Status &nbsp;<strong>execute</strong> ()
<br></td><td align="right"><h3><strong>execute</strong></h3></td></tr></table><p> <small>[virtual]</small></p><p>
 Execute script from where it was left, may stop and return Incomplete state
</p>
<p><b>Returns</b>: Status of the runtime after code execution
     </p>
<A NAME="run"></A><A NAME="ref16"></A><table width="100%"><tr bgcolor="#eeeeee"><td> Status &nbsp;<strong>run</strong> (bool init = true)
<br></td><td align="right"><h3><strong>run</strong></h3></td></tr></table><p> <small>[virtual]</small></p><p>
 Execute script from the beginning until it returns a final state
</p>
<p><b>Parameters</b>:<TABLE BORDER="0" CELLPADDING="5">
<TR><TD align="left" valign="top"><i>init</i></TD><TD align="left" valign="top">Initialize context
</TD></TR>
</TABLE></P>
<p><b>Returns</b>: Final status of the runtime after code execution
     </p>
<A NAME="pause"></A><A NAME="ref17"></A><table width="100%"><tr bgcolor="#eeeeee"><td> bool &nbsp;<strong>pause</strong> ()
<br></td><td align="right"><h3><strong>pause</strong></h3></td></tr></table><p> <small>[virtual]</small></p><p>
 Pause the script, make it return Incomplete state
</p>
<p><b>Returns</b>: True if pausing the script succeeded or was already paused
     </p>
<A NAME="call"></A><A NAME="ref18"></A><table width="100%"><tr bgcolor="#eeeeee"><td> Status &nbsp;<strong>call</strong> (const String& name, ObjList& args,
	ExpOperation* thisObj = 0, ExpOperation* scopeObj = 0)
<br></td><td align="right"><h3><strong>call</strong></h3></td></tr></table><p> <small>[virtual]</small></p><p>
 Call a script function or method
</p>
<p><b>Parameters</b>:<TABLE BORDER="0" CELLPADDING="5">
<TR><TD align="left" valign="top"><i>name</i></TD><TD align="left" valign="top">Name of the function to call
</TD></TR>
<TR><TD align="left" valign="top"><i>args</i></TD><TD align="left" valign="top">Values to pass as actual function arguments
</TD></TR>
<TR><TD align="left" valign="top"><i>thisObj</i></TD><TD align="left" valign="top">Object to pass as "this" if applicable
</TD></TR>
<TR><TD align="left" valign="top"><i>scopeObj</i></TD><TD align="left" valign="top">Optional object to be used for scope resolution inside the call
</TD></TR>
</TABLE></P>
<p><b>Returns</b>: Final status of the runtime after function call
     </p>
<A NAME="callable"></A><A NAME="ref19"></A><table width="100%"><tr bgcolor="#eeeeee"><td> bool &nbsp;<strong>callable</strong> (const String& name)
<br></td><td align="right"><h3><strong>callable</strong></h3></td></tr></table><p> <small>[virtual]</small></p><p>
 Check if a script has a certain function or method
</p>
<p><b>Parameters</b>:<TABLE BORDER="0" CELLPADDING="5">
<TR><TD align="left" valign="top"><i>name</i></TD><TD align="left" valign="top">Name of the function to check
</TD></TR>
</TABLE></P>
<p><b>Returns</b>: True if function exists in code
     </p>
<A NAME="insertAsync"></A><A NAME="ref20"></A><table width="100%"><tr bgcolor="#eeeeee"><td> bool &nbsp;<strong>insertAsync</strong> (ScriptAsync* oper)
<br></td><td align="right"><h3><strong>insertAsync</strong></h3></td></tr></table><p> <small>[virtual]</small></p><p>
 Insert an asynchronous operation to be executed
</p>
<p><b>Parameters</b>:<TABLE BORDER="0" CELLPADDING="5">
<TR><TD align="left" valign="top"><i>oper</i></TD><TD align="left" valign="top">Operation to be inserted, will be owned by the runtime instance
</TD></TR>
</TABLE></P>
<p><b>Returns</b>: True if the operation was added
     </p>
<A NAME="appendAsync"></A><A NAME="ref21"></A><table width="100%"><tr bgcolor="#eeeeee"><td> bool &nbsp;<strong>appendAsync</strong> (ScriptAsync* oper)
<br></td><td align="right"><h3><strong>appendAsync</strong></h3></td></tr></table><p> <small>[virtual]</small></p><p>
 Append an asynchronous operation to be executed
</p>
<p><b>Parameters</b>:<TABLE BORDER="0" CELLPADDING="5">
<TR><TD align="left" valign="top"><i>oper</i></TD><TD align="left" valign="top">Operation to be appended, will be owned by the runtime instance
</TD></TR>
</TABLE></P>
<p><b>Returns</b>: True if the operation was added
     </p>
<A NAME="runAssign"></A><A NAME="ref22"></A><table width="100%"><tr bgcolor="#eeeeee"><td>bool &nbsp;<strong>runAssign</strong> (const ExpOperation& oper, GenObject* context = 0)
<br></td><td align="right"><h3><strong>runAssign</strong></h3></td></tr></table><p></p><p>
 Try to assign a value to a single field in the script context
</p>
<p><b>Parameters</b>:<TABLE BORDER="0" CELLPADDING="5">
<TR><TD align="left" valign="top"><i>oper</i></TD><TD align="left" valign="top">Field to assign to, contains the field name and new value
</TD></TR>
<TR><TD align="left" valign="top"><i>context</i></TD><TD align="left" valign="top">Pointer to arbitrary object to be passed to called methods
</TD></TR>
</TABLE></P>
<p><b>Returns</b>: True if assignment succeeded
     </p>
<A NAME="resume"></A><A NAME="ref23"></A><table width="100%"><tr bgcolor="#eeeeee"><td> Status &nbsp;<strong>resume</strong> ()
<br></td><td align="right"><h3><strong>resume</strong></h3></td></tr></table><p> <small>[protected virtual]</small></p><p>
 Resume script from where it was left, may stop and return Incomplete state
</p>
<p><b>Returns</b>: Status of the runtime after code execution
     </p>
<HR>
	<table>
	<tr><td><small>Generated by: paulc on bussard on Thu Jul 24 18:41:02 2014, using kdoc 2.0a54.</small></td></tr>
	</table>
</BODY>
</HTML>
