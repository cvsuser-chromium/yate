<HTML>
<HEAD>
<TITLE>class Lockable</TITLE>

<META NAME="Generator" CONTENT="KDOC ">
</HEAD>
<BODY bgcolor="#ffffff" text="#000000" link="#0000ff" vlink="#000099" alink= "#ffffff">
<TABLE WIDTH="100%" BORDER="0">
<TR>
<TD>
	<TABLE BORDER="0">
		<TR><TD valign="top" align="left" cellspacing="10">
		<h1>class Lockable</h1>
		</TD>
		<TD valign="top" align="right" colspan="1">Abstract interface for lockable objects. <small><A HREF="#longdesc">More...</A></small></TD></TR>
	</TABLE>
	<HR>
	<TABLE BORDER="0">
		<TR><TH colspan="2">Contains pure virtuals</TH></TR><TR><TH>Full name</TH><TD><code><A HREF="TelEngine.html">TelEngine</A>::Lockable</code></TD></TR>
<TR><TH>Definition</TH><TD><code>#include &lt;<A HREF="yateclass_h.html">yateclass.h</A>&gt;</code></TD></TR>
<TR><TH>Inherited by</TH><TD><A HREF="TelEngine__AnalogLine.html">AnalogLine</A>, <A HREF="TelEngine__AnalogLineGroup.html">AnalogLineGroup</A>, <i><A HREF="TelEngine__ChanAssistList.html">ChanAssistList</A></i>, <A HREF="TelEngine__ClientAccount.html">ClientAccount</A>, <A HREF="TelEngine__ClientAccountList.html">ClientAccountList</A>, <i><A HREF="TelEngine__ClientDriver.html">ClientDriver</A></i>, <A HREF="TelEngine__DataSource.html">DataSource</A>, <i><A HREF="TelEngine__Driver.html">Driver</A></i>, <A HREF="TelEngine__IAXEngine.html">IAXEngine</A>, <A HREF="TelEngine__IAXMetaTrunkFrame.html">IAXMetaTrunkFrame</A>, <A HREF="TelEngine__IAXTransaction.html">IAXTransaction</A>, <A HREF="TelEngine__ISDNIUAClient.html">ISDNIUAClient</A>, <A HREF="TelEngine__ISDNQ931.html">ISDNQ931</A>, <A HREF="TelEngine__ISDNQ931Call.html">ISDNQ931Call</A>, <A HREF="TelEngine__ISDNQ931CallMonitor.html">ISDNQ931CallMonitor</A>, <A HREF="TelEngine__ISDNQ931Monitor.html">ISDNQ931Monitor</A>, <A HREF="TelEngine__JBClientEngine.html">JBClientEngine</A>, <A HREF="TelEngine__JBClientStream.html">JBClientStream</A>, <A HREF="TelEngine__JBClusterStream.html">JBClusterStream</A>, <A HREF="TelEngine__JBEngine.html">JBEngine</A>, <A HREF="TelEngine__JBEntityCapsList.html">JBEntityCapsList</A>, <A HREF="TelEngine__JBServerEngine.html">JBServerEngine</A>, <A HREF="TelEngine__JBServerStream.html">JBServerStream</A>, <A HREF="TelEngine__JBStream.html">JBStream</A>, <i><A HREF="TelEngine__JBStreamSet.html">JBStreamSet</A></i>, <A HREF="TelEngine__JBStreamSetList.html">JBStreamSetList</A>, <A HREF="TelEngine__JBStreamSetProcessor.html">JBStreamSetProcessor</A>, <A HREF="TelEngine__JBStreamSetReceive.html">JBStreamSetReceive</A>, <A HREF="TelEngine__JGEngine.html">JGEngine</A>, <i><A HREF="TelEngine__JGSession.html">JGSession</A></i>, <A HREF="TelEngine__JGSession0.html">JGSession0</A>, <A HREF="TelEngine__JGSession1.html">JGSession1</A>, <A HREF="TelEngine__MGCPEndpoint.html">MGCPEndpoint</A>, <A HREF="TelEngine__MGCPEngine.html">MGCPEngine</A>, <A HREF="TelEngine__MGCPTransaction.html">MGCPTransaction</A>, <A HREF="TelEngine__MessageDispatcher.html">MessageDispatcher</A>, <A HREF="TelEngine__MessageQueue.html">MessageQueue</A>, <A HREF="TelEngine__Module.html">Module</A>, <i><A HREF="TelEngine__MultiRouter.html">MultiRouter</A></i>, <A HREF="TelEngine__Mutex.html">Mutex</A>, <A HREF="TelEngine__RTPGroup.html">RTPGroup</A>, <A HREF="TelEngine__RTPSession.html">RTPSession</A>, <i><A HREF="TelEngine__SCCPManagement.html">SCCPManagement</A></i>, <A HREF="TelEngine__SDPParser.html">SDPParser</A>, <A HREF="TelEngine__SIGAdaptClient.html">SIGAdaptClient</A>, <A HREF="TelEngine__SIGAdaptServer.html">SIGAdaptServer</A>, <i><A HREF="TelEngine__SIGAdaptation.html">SIGAdaptation</A></i>, <i><A HREF="TelEngine__SIPEngine.html">SIPEngine</A></i>, <A HREF="TelEngine__SIPSequence.html">SIPSequence</A>, <A HREF="TelEngine__SS7AnsiSccpManagement.html">SS7AnsiSccpManagement</A>, <A HREF="TelEngine__SS7BICC.html">SS7BICC</A>, <A HREF="TelEngine__SS7ISUP.html">SS7ISUP</A>, <A HREF="TelEngine__SS7ISUPCall.html">SS7ISUPCall</A>, <A HREF="TelEngine__SS7ItuSccpManagement.html">SS7ItuSccpManagement</A>, <A HREF="TelEngine__SS7M2UAClient.html">SS7M2UAClient</A>, <A HREF="TelEngine__SS7MTP2.html">SS7MTP2</A>, <A HREF="TelEngine__SS7MTP3.html">SS7MTP3</A>, <A HREF="TelEngine__SS7Management.html">SS7Management</A>, <A HREF="TelEngine__SS7Route.html">SS7Route</A>, <A HREF="TelEngine__SS7Router.html">SS7Router</A>, <A HREF="TelEngine__SS7SCCP.html">SS7SCCP</A>, <i><A HREF="TelEngine__SS7TCAPTransaction.html">SS7TCAPTransaction</A></i>, <A HREF="TelEngine__SS7TCAPTransactionANSI.html">SS7TCAPTransactionANSI</A>, <A HREF="TelEngine__SS7TCAPTransactionITU.html">SS7TCAPTransactionITU</A>, <A HREF="TelEngine__SS7TUP.html">SS7TUP</A>, <A HREF="TelEngine__SS7Testing.html">SS7Testing</A>, <A HREF="TelEngine__SccpLocalSubsystem.html">SccpLocalSubsystem</A>, <A HREF="TelEngine__SccpRemote.html">SccpRemote</A>, <A HREF="TelEngine__ScriptRun.html">ScriptRun</A>, <A HREF="TelEngine__Semaphore.html">Semaphore</A>, <A HREF="TelEngine__SharedVars.html">SharedVars</A>, <i><A HREF="TelEngine__SignallingCall.html">SignallingCall</A></i>, <i><A HREF="TelEngine__SignallingCallControl.html">SignallingCallControl</A></i>, <A HREF="TelEngine__SignallingCircuitGroup.html">SignallingCircuitGroup</A>, <A HREF="TelEngine__SignallingEngine.html">SignallingEngine</A>, <i><A HREF="TelEngine__ThreadedSource.html">ThreadedSource</A></i>, <i><A HREF="TelEngine__UDPTLSession.html">UDPTLSession</A></i></TD></TR>
<TR><TH><A HREF="full-list-TelEngine__Lockable.html">List of all Methods</A></TH></TR>
	</TABLE>
	</TD>
<TD align="right"><TABLE BORDER="0"><TR><TD><small><A HREF="index-long.html">Annotated List</A></small></TD></TR>
<TR><TD><small><A HREF="header-list.html">Files</A></small></TD></TR>
<TR><TD><small><A HREF="all-globals.html">Globals</A></small></TD></TR>
<TR><TD><small><A HREF="hier.html">Hierarchy</A></small></TD></TR>
<TR><TD><small><A HREF="index.html">Index</A></small></TD></TR>
</TABLE></TD></TR></TABLE>
<h4>Public Methods</h4><ul><LI>virtual  &nbsp;<b><A HREF="#ref1">~Lockable</A></b> () 
</LI>
<LI>virtual  bool &nbsp;<b><i><A HREF="#ref2">lock</A></i></b> (long maxwait = -1) 
</LI>
<LI>virtual  bool &nbsp;<b><i><A HREF="#ref3">unlock</A></i></b> () 
</LI>
<LI>virtual  bool &nbsp;<b><i><A HREF="#ref4">locked</A></i></b> ()  const
</LI>
<LI>virtual  bool &nbsp;<b><A HREF="#ref5">check</A></b> (long maxwait = -1) 
</LI>
<LI>virtual  bool &nbsp;<b><A HREF="#ref6">unlockAll</A></b> () 
</LI>
</ul><h4>Public Static Methods</h4><ul><LI>static  void &nbsp;<b><A HREF="#ref7">wait</A></b> (unsigned long maxwait) 
</LI>
<LI>static  unsigned long &nbsp;<b><A HREF="#ref8">wait</A></b> () 
</LI>
<LI>static  void &nbsp;<b><A HREF="#ref9">startUsingNow</A></b> () 
</LI>
<LI>static  void &nbsp;<b><A HREF="#ref10">enableSafety</A></b> (bool safe = true) 
</LI>
</ul><HR><H2><A NAME="longdesc">Detailed Description</A></H2><p>
 An abstract base class for implementing lockable objects
</p>
<A NAME="~Lockable"></A><A NAME="ref1"></A><table width="100%"><tr bgcolor="#eeeeee"><td> &nbsp;<strong>~Lockable</strong> ()
<br></td><td align="right"><h3><strong>~Lockable</strong></h3></td></tr></table><p> <small>[virtual]</small></p><p>
 Destructor
     </p>
<A NAME="lock"></A><A NAME="ref2"></A><table width="100%"><tr bgcolor="#eeeeee"><td> bool &nbsp;<i><strong>lock</strong></i> (long maxwait = -1)
<br></td><td align="right"><h3><i><strong>lock</strong></i></h3></td></tr></table><p> <small>[pure virtual]</small></p><p>
 Attempt to lock the object and eventually wait for it
</p>
<p><b>Parameters</b>:<TABLE BORDER="0" CELLPADDING="5">
<TR><TD align="left" valign="top"><i>maxwait</i></TD><TD align="left" valign="top">Time in microseconds to wait, -1 wait forever
</TD></TR>
</TABLE></P>
<p><b>Returns</b>: True if successfully locked, false on failure
     </p>
<A NAME="unlock"></A><A NAME="ref3"></A><table width="100%"><tr bgcolor="#eeeeee"><td> bool &nbsp;<i><strong>unlock</strong></i> ()
<br></td><td align="right"><h3><i><strong>unlock</strong></i></h3></td></tr></table><p> <small>[pure virtual]</small></p><p>
 Unlock the object, does never wait
</p>
<p><b>Returns</b>: True if successfully unlocked the object
     </p>
<A NAME="locked"></A><A NAME="ref4"></A><table width="100%"><tr bgcolor="#eeeeee"><td> bool &nbsp;<i><strong>locked</strong></i> ()
<br></td><td align="right"><h3><i><strong>locked</strong></i></h3></td></tr></table><p> <small>[const pure virtual]</small></p><p>
 Check if the object is currently locked - as it's asynchronous it
  guarantees nothing if other thread changes the status
</p>
<p><b>Returns</b>: True if the object was locked when the function was called
     </p>
<A NAME="check"></A><A NAME="ref5"></A><table width="100%"><tr bgcolor="#eeeeee"><td> bool &nbsp;<strong>check</strong> (long maxwait = -1)
<br></td><td align="right"><h3><strong>check</strong></h3></td></tr></table><p> <small>[virtual]</small></p><p>
 Check if the object is unlocked (try to lock and unlock it)
</p>
<p><b>Parameters</b>:<TABLE BORDER="0" CELLPADDING="5">
<TR><TD align="left" valign="top"><i>maxwait</i></TD><TD align="left" valign="top">Time in microseconds to wait, -1 to wait forever
</TD></TR>
</TABLE></P>
<p><b>Returns</b>: True if successfully locked and unlocked, false on failure
     </p>
<A NAME="unlockAll"></A><A NAME="ref6"></A><table width="100%"><tr bgcolor="#eeeeee"><td> bool &nbsp;<strong>unlockAll</strong> ()
<br></td><td align="right"><h3><strong>unlockAll</strong></h3></td></tr></table><p> <small>[virtual]</small></p><p>
 Fully unlock the object, even if it was previously multiple locked.
 There is no guarantee about the object status after the function returns.
 This function should be used only if you understand it very well
</p>
<p><b>Returns</b>: True if the object was fully unlocked
     </p>
<A NAME="wait"></A><A NAME="ref7"></A><table width="100%"><tr bgcolor="#eeeeee"><td> void &nbsp;<strong>wait</strong> (unsigned long maxwait)
<br></td><td align="right"><h3><strong>wait</strong></h3></td></tr></table><p> <small>[static]</small></p><p>
 Set a maximum wait time for debugging purposes
</p>
<p><b>Parameters</b>:<TABLE BORDER="0" CELLPADDING="5">
<TR><TD align="left" valign="top"><i>maxwait</i></TD><TD align="left" valign="top">Maximum time in microseconds to wait for any lockable
  object when no time limit was requested, zero to disable limit
     </TD></TR>
</TABLE></P>
<A NAME="wait"></A><A NAME="ref8"></A><table width="100%"><tr bgcolor="#eeeeee"><td> unsigned long &nbsp;<strong>wait</strong> ()
<br></td><td align="right"><h3><strong>wait</strong></h3></td></tr></table><p> <small>[static]</small></p><p>
 Get the maximum wait time used for debugging purposes
</p>
<p><b>Returns</b>: Maximum time in microseconds, zero if no maximum is set
     </p>
<A NAME="startUsingNow"></A><A NAME="ref9"></A><table width="100%"><tr bgcolor="#eeeeee"><td> void &nbsp;<strong>startUsingNow</strong> ()
<br></td><td align="right"><h3><strong>startUsingNow</strong></h3></td></tr></table><p> <small>[static]</small></p><p>
 Start actually using lockables, for platforms where these objects are not
  usable in global object constructors.
 This method must be called at least once somewhere from main() but
  before creating any threads and without holding any object locked.
     </p>
<A NAME="enableSafety"></A><A NAME="ref10"></A><table width="100%"><tr bgcolor="#eeeeee"><td> void &nbsp;<strong>enableSafety</strong> (bool safe = true)
<br></td><td align="right"><h3><strong>enableSafety</strong></h3></td></tr></table><p> <small>[static]</small></p><p>
 Enable some safety and sanity check features.
 This provides a safer code and easier locking debugging at the price of performance penalty.
 This method must be called early and not changed after initialization
</p>
<p><b>Parameters</b>:<TABLE BORDER="0" CELLPADDING="5">
<TR><TD align="left" valign="top"><i>safe</i></TD><TD align="left" valign="top">True to enable locking safety measures, false to disable
     </TD></TR>
</TABLE></P>
<HR>
	<table>
	<tr><td><small>Generated by: paulc on bussard on Thu Jul 24 18:41:02 2014, using kdoc 2.0a54.</small></td></tr>
	</table>
</BODY>
</HTML>
